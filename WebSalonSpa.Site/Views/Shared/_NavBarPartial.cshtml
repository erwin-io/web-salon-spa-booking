@using Microsoft.AspNet.Identity

<!-- Navbar -->
<nav class="main-header navbar navbar-expand navbar-white navbar-light">
    <!-- Left navbar links -->
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
        </li>
    </ul>

    <!-- Right navbar links -->
    <ul class="navbar-nav ml-auto">

        <!-- User Dropdown Menu -->
        <li class="nav-item dropdown">
            <a class="nav-link" data-toggle="dropdown" href="#">
                <i class="fas fa-user"></i>
            </a>
            <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                <span class="dropdown-item dropdown-header">My Account</span>
                <div class="dropdown-divider"></div>
                @if (Request.IsAuthenticated)
                {
                    <a href="~/Account/Profile" class="dropdown-item">
                        <!-- Message Start -->
                        <div class="media">
                            <img src="~/File/GetDefaultUserProfilePic" alt="User Avatar" class="img-size-50 mr-3 img-circle">
                            <div class="media-body">
                                <h3 class="dropdown-item-title">
                                    @User.Identity.GetUserName()
                                </h3>
                            </div>
                        </div>
                        <!-- Message End -->
                    </a>
                    using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right", @style = "display:none!important" }))
                    {
                        @Html.AntiForgeryToken()
                    }
                    <a href="javascript:document.getElementById('logoutForm').submit()" class="dropdown-item dropdown-footer">Log out</a>
                }
            </div>
        </li>
    </ul>
</nav>
<!-- /.navbar -->